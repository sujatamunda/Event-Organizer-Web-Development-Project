@* @model EventOrganizer.Models.LoginRequest
@{
    ViewData["Title"] = "Login";
    Layout = "~/Views/Shared/_LoginLayout.cshtml";
}

<div class="card-body text-center">
    <h4 class="mb-3 text-white">EVENT ORGANIZER</h4>
    <h6 class="mb-3 text-white">LOG IN</h6>
     @using (Html.BeginForm("Index", "Login",FormMethod.Post,null))
{
        <div class="form-group mb-3">
            @Html.TextBoxFor(a => a.Email, new { @class = "form-control", placeholder = "Email" })
            @Html.ValidationMessageFor(a => a.Email, null, new { @class = "text-danger"})
            @* <input type="email" class="form-control" placeholder="Email" required> *@
       @*  </div>
        <div class="form-group mb-3">
            @Html.TextBoxFor(a => a.Password, new { @class = "form-control", @type = "password", placeholder = "Password" })
            @Html.ValidationMessageFor(a => a.Password, null, new { @class = "text-danger" })
            @* <input type="password" class="form-control" placeholder="Password" required> *@
       @*  </div>
        <button type="submit" class="btn gradient-btn w-100">Login</button>
        if (!string.IsNullOrWhiteSpace(ViewBag.Error))
        {
            <div class="row">
                <div class="col-12 text-danger">
                    @ViewBag.Error
                </div>

            </div>



        }

    <!-- Forgot Password and Register Links inside Div Tags -->
    <div class="mt-3">
        <div>
            @Html.ActionLink("Forgot Password?", "ForgotPassword", "Login", null, new { @class = "d-block text-white" })
        </div>
        <div class="mt-2 text-white">
            <span>New User? </span>
            @Html.ActionLink("Register Here", "Register", "Login", null, new { @class = "text-white" })
        </div>
    </div>
    }

</div> *@
 

           @*  @model EventOrganizer.Models.LoginRequest

@{
    ViewData["Title"] = "Login";
    Layout = "~/Views/Shared/_LoginLayout.cshtml";
}

<div class="card-body text-center">
    <h4 class="mb-3 text-white">EVENT ORGANIZER</h4>
    <h6 class="mb-3 text-white">LOG IN</h6>

    @using (Html.BeginForm("Index", "Login", FormMethod.Post, null))
    {
        <div class="form-group mb-3">
            @Html.TextBoxFor(a => a.Email, new { @class = "form-control", placeholder = "Email" })
            @Html.ValidationMessageFor(a => a.Email, null, new { @class = "text-danger" })
        </div>

        <div class="form-group mb-3 position-relative">
            @Html.TextBoxFor(a => a.Password, new { @class = "form-control", @type = "password", placeholder = "Password", @id = "passwordInput" })
            @Html.ValidationMessageFor(a => a.Password, null, new { @class = "text-danger" })

            <!-- Eye Icon inside Password field -->
            <span toggle="#passwordInput" class="fa fa-fw fa-eye field-icon toggle-password" style="position:absolute; top:50%; right:15px; transform:translateY(-50%); cursor:pointer; color:#6c757d;"></span>
        </div>

        <button type="submit" class="btn gradient-btn w-100">Login</button>

        @if (!string.IsNullOrWhiteSpace(ViewBag.Error))
        {
            <div class="row">
                <div class="col-12 text-danger">
                    @ViewBag.Error
                </div>
            </div>
        }

        <!-- Forgot Password and Register Links inside Div Tags -->
        <div class="mt-3">
            <div>
                @Html.ActionLink("Forgot Password?", "ForgotPassword", "Login", null, new { @class = "d-block text-white" })
            </div>
            <div class="mt-2 text-white">
                <span>New User? </span>
                @Html.ActionLink("Register Here", "Register", "Login", null, new { @class = "text-white" })
            </div>
        </div>
    }
</div>

<!-- Toggle Password Visibility Script -->
<script>
    document.addEventListener("DOMContentLoaded", function () {
        const togglePassword = document.querySelector('.toggle-password');
        const passwordInput = document.querySelector('#passwordInput');

        togglePassword.addEventListener('click', function (e) {
            // Toggle input type
            const type = passwordInput.getAttribute('type') === 'password' ? 'text' : 'password';
            passwordInput.setAttribute('type', type);

            // Toggle eye icon
            this.classList.toggle('fa-eye');
            this.classList.toggle('fa-eye-slash');
        });
    });
</script>

<!-- Add FontAwesome CSS if not already included -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet" />
 *@

 @model EventOrganizer.Models.LoginRequest

@{
    ViewData["Title"] = "Login";
    Layout = "~/Views/Shared/_LoginLayout.cshtml";
}

<div class="card-body text-center">

    <!-- Logo Image -->
    <img src="~/Images/Profile.jpeg" alt="Logo" class="logo-img mb-3 rounded-circle">

    <h6 class="mb-4 text-white">LOG IN</h6>

    @using (Html.BeginForm("Index", "Login", FormMethod.Post, null))
    {
        <div class="form-group mb-3">
            @Html.TextBoxFor(a => a.Email, new { @class = "form-control", placeholder = "Email" })
            @Html.ValidationMessageFor(a => a.Email, null, new { @class = "text-danger" })
        </div>

        <div class="form-group mb-3 position-relative">
            @Html.TextBoxFor(a => a.Password, new { @class = "form-control", @type = "password", placeholder = "Password", @id = "passwordInput" })
            @Html.ValidationMessageFor(a => a.Password, null, new { @class = "text-danger" })

            <!-- Eye Icon -->
            <span toggle="#passwordInput" class="fa fa-fw fa-eye field-icon toggle-password"></span>
        </div>

        <button type="submit" class="btn gradient-btn w-100 mb-3">Login</button>

        @if (!string.IsNullOrWhiteSpace(ViewBag.Error))
        {
            <div class="text-danger mb-2">
                @ViewBag.Error
            </div>
        }

        <div class="mt-2">
            <a href="@Url.Action("ForgotPassword", "Login")">Forgot Password?</a>
        </div>
        <div class="mt-2">
            <span class="text-white">New User? </span><a href="@Url.Action("Register", "Login")" class="fw-bold">Register Here</a>
        </div>
    }
</div>

<!-- Toggle Password Visibility Script -->
<script>
    document.addEventListener("DOMContentLoaded", function () {
        const togglePassword = document.querySelector('.toggle-password');
        const passwordInput = document.querySelector('#passwordInput');

        togglePassword.addEventListener('click', function (e) {
            const type = passwordInput.getAttribute('type') === 'password' ? 'text' : 'password';
            passwordInput.setAttribute('type', type);
            this.classList.toggle('fa-eye');
            this.classList.toggle('fa-eye-slash');
        });
    });
</script>
