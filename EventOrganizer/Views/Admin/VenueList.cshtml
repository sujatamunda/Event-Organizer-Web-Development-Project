@model List<EventOrganizer.Models.Venues>

@{
    ViewData["Title"] = "Venues List";
    Layout = "~/Views/Shared/_AdminLayout.cshtml";
}

<div class="card">
    <div class="card-header bg-info text-dark text-center">
        <h4>Venues List</h4>
    </div>
    <div class="card-body">
        @if (!string.IsNullOrWhiteSpace(ViewBag.SuccessMsg))
        {
            <div class="alert alert-success">@ViewBag.SuccessMsg</div>
        }
        @if (!string.IsNullOrWhiteSpace(ViewBag.ErrorMsg))
        {
            <div class="alert alert-danger">@ViewBag.ErrorMsg</div>
        }

        <table class="table table-responsive">
                         <thead>
                <tr>
                <th>Venue Name</th>
                <th>Location</th>
                <th>Capacity</th>
                <th>Cost</th>
                <th>Image</th>
                <th>Action</th>
            </tr>
                         </thead>
             <tbody>
                @foreach (var item in Model)
                {
                    <tr>
                        <td>@item.VenueName</td>
                        <td>@item.Location</td>
                        <td>@item.Capacity</td>
                        <td>Rs.@item.Cost</td>
                        <td>
                            @if (!string.IsNullOrWhiteSpace(item.ImageUrl))
                            {
                                <img src="@item.ImageUrl" alt="Image of @item.VenueName" style="max-width: 100px; max-height: 100px;" />
                            }
                            else
                            {
                                <span>No image available</span>
                            }
                        </td>
                        <td>
                            <a href="@Url.Action("VenueEdit", "Admin", new { id = item.VenueId })" class="btn btn-warning">Edit</a>
                            <a href="#" onclick="confirmDelete('@Url.Action("VenueDelete", "Admin", new { id = item.VenueId })')" class="btn btn-danger">Delete</a>
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
</div>

<script>
    function confirmDelete(url) {
        if (confirm("Are you sure you want to delete this venue?")) {
            window.location.href = url;
        }
    }
</script> 